<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Firebase App (core) -->
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
<!-- Firestore -->
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.7.3/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.7.3/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyASuEsQB4qs57gpnqol9IN0Vzl7mlTepUo",
    authDomain: "syllabus-tracker-e8ba0.firebaseapp.com",
    projectId: "syllabus-tracker-e8ba0",
    storageBucket: "syllabus-tracker-e8ba0.firebasestorage.app",
    messagingSenderId: "898810875690",
    appId: "1:898810875690:web:1058fa575311eb1d4dd853",
    measurementId: "G-ZT2F2SVFHZ"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
</script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Syllabus Tracker</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
        }

        h1 {
            text-align: center;
        }

        .subject {
            background: white;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .unit {
            margin: 10px 0;
        }

        .progress-bar {
            background: #ddd;
            border-radius: 20px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-bar-fill {
            height: 20px;
            background: #4caf50;
            width: 0%;
            transition: width 0.3s;
        }
    </style>
</head>

<body>
    
    <h1>My Exam Syllabus Tracker</h1>

    <div class="subject" data-subject="Math">
        <h2>DSBDA</h2>
        <div class="unit"><input type="checkbox" /> Unit 3: Big Data Analytics Life Cycle</div>
        <div class="unit"><input type="checkbox" /> Unit 4: Predictive Big Data Analytics with Python</div>
        <div class="unit"><input type="checkbox" /> Unit 5: Big Data Analytics and Model Evaluation </div>
        <div class="unit"><input type="checkbox" /> Unit 6: Data Visualization and Hadoop</div>
        <div class="progress-bar">
            <div class="progress-bar-fill"></div>
        </div>
    </div>
    <div class="subject" data-subject="Math">
        <h2>WT</h2>
        <div class="unit"><input type="checkbox" /> Unit 3: Java Servlets and XML </div>
        <div class="unit"><input type="checkbox" /> Unit 4: JSP and Web Services</div>
        <div class="unit"><input type="checkbox" /> Unit 5: Server Side Scripting Languages </div>
        <div class="unit"><input type="checkbox" /> Unit 6: Ruby and Rails </div>
        <div class="progress-bar">
            <div class="progress-bar-fill"></div>
        </div>
    </div>
    <div class="subject" data-subject="Math">
        <h2>AI</h2>
        <div class="unit"><input type="checkbox" /> Unit 3: Adversarial Search and Games</div>
        <div class="unit"><input type="checkbox" /> Unit 4: Knowledge</div>
        <div class="unit"><input type="checkbox" /> Unit 5: Reasoning</div>
        <div class="unit"><input type="checkbox" /> Unit 6: Planning</div>
        <div class="progress-bar">
            <div class="progress-bar-fill"></div>
        </div>
    </div>
    <div class="subject" data-subject="Math">
        <h2>CC</h2>
        <div class="unit"><input type="checkbox" /> Unit 3: Virtualization in Cloud Computing</div>
        <div class="unit"><input type="checkbox" /> Unit 4: Cloud Platforms and Cloud Applications </div>
        <div class="unit"><input type="checkbox" /> Unit 5: Security in Cloud Computing</div>
        <div class="unit"><input type="checkbox" /> Unit 6: Advanced Techniques in Cloud Computing </div>
        <div class="progress-bar">
            <div class="progress-bar-fill"></div>
        </div>
    </div>

    <script>async function saveProgressToFirebase() {
  const data = {};
  document.querySelectorAll('.subject').forEach(subject => {
    const subjectName = subject.dataset.subject;
    const checkboxes = subject.querySelectorAll("input[type='checkbox']");
    data[subjectName] = [];
    checkboxes.forEach(cb => data[subjectName].push(cb.checked));
  });

  try {
    await db.collection("users").doc("user1").set(data);
    console.log("Progress saved to Firebase");
  } catch (error) {
    console.error("Error saving progress:", error);
  }
}

async function loadProgressFromFirebase() {
  try {
    const doc = await db.collection("users").doc("user1").get();
    if (doc.exists) {
      const data = doc.data();
      document.querySelectorAll('.subject').forEach(subject => {
        const subjectName = subject.dataset.subject;
        const checkboxes = subject.querySelectorAll("input[type='checkbox']");
        if (data[subjectName]) {
          data[subjectName].forEach((val, index) => {
            checkboxes[index].checked = val;
          });
          updateProgress(subject);
        }
      });
    }
  } catch (error) {
    console.error("Error loading progress:", error);
  }
}

    </script>
</body>

</html>
